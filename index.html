<!DOCTYPE html>
<html>
<head>
  <title>Submit Ticket</title>
</head>
<body>

<h2>Customer Support Form</h2>

<form id="ticketForm">

  <label for="name">Name:</label><br>
  <input type="text" id="name" required><br><br>

  <label for="email">Email:</label><br>
  <input type="email" id="email" required><br><br>

  <label for="subject">Subject:</label><br>
  <input type="text" id="subject" required><br><br>

  <label for="description">Description:</label><br>
  <textarea id="description" required></textarea><br><br>

  <button type="submit">Submit Ticket</button>

</form>

<script>
document.getElementById("ticketForm").addEventListener("submit", function(e) {
  e.preventDefault();

  fetch("https://d3v-astonous-28503.zendesk.com/api/v2/tickets.json", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      "Authorization": "Basic " + btoa("sneha.sharma@astonous.com/token:zIBBn818zW3Hi2XREmBoSVxtwNnY2dl9QhKz5LWe
")
    },
    body: JSON.stringify({
      ticket: {
        subject: document.getElementById("subject").value,
        comment: {
          body: document.getElementById("description").value
        },
        requester: {
          name: document.getElementById("name").value,
          email: document.getElementById("email").value
        }
      }
    })
  })
  .then(function(response) {
    return response.json();
  })
  .then(function(data) {
    console.log("SUCCESS:", data);
    alert("Ticket submitted successfully");
  })
  .catch(function(error) {
    console.log("ERROR:", error);
    alert("Error creating ticket");
  });

});
</script>

</body>
</html>
